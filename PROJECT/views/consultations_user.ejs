<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
    <title>Dietitian Manager by User</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <style>
      .logo {
          display: flex;
          align-items: center;
          font-family: 'Poppins', sans-serif;
          font-size: 24px;
          font-weight: bold;
          position: absolute;
          left:50px;
          color: #1E6F5C; 
      }

      .logo .highlight {
          color: #28B463;
      }

      .logo .icon-container {
          display: flex;
          align-items: center;
          justify-content: center;
          width: 40px;
          height: 40px;
          background-color: #28B463;
          border-radius: 50%;
          margin-right: 10px;
      }

      .logo .icon {
          font-size: 24px;
          color: #FFFFFF;
      }

      .logo:hover .icon-container {
          background-color: #1E6F5C;
          transform: scale(1.1);
          transition: all 0.3s ease;
      }

      .logo:hover {
          color: #28B463;
          transition: color 0.3s ease;
      }
             
     body {
         font-family: Arial, sans-serif;
         color: rgb(51, 51, 51);
         line-height: 1.6;
         margin: 0px;
         background-color: #e8f5e9;
     }
     
     .top {
         position: fixed;
         top: 0;
         height: 130px;
         width: 100%;
         z-index: 1;
     }
     
     .top1 {
         box-shadow: rgba(0, 0, 0, 0.6) 0px 2px 5px;
         position: fixed;
         left: 0;
         right: 0;
         height: 60px;
         width: 100%;
         background-color: #D2F0C8;
         display: flex;
         flex-direction: row;
         align-items: center;
         justify-content: center;
         z-index: 1000;
     }
     
     #profile {
         position: fixed;
         width: 150px;
         height: 45px;
         right: 30px;
         border-radius: 5px;
         cursor: pointer;
         display: flex;
         justify-content: space-between;
         align-items: center;
     }
     
     #profile i {
         margin: 5px;
     }
     
     #profile div {
         border: 2px solid;
         border-radius: 50%;
         padding: 5px;
     }
     #profile:hover div {
         border: 2px solid white;
     }
     
     #nav-bar {
         z-index: 1000;
         position: fixed;
         top: 60px;
         left: 0;
         width: 100%;
         height: 50px;
         background-color: #50c878;
         border-bottom: 2px solid #28a745;
     }
     
     .navbar-nav .nav-link {
         font-weight: bold;
         font-size: 16px;
         transition: all 0.3s ease-in-out;
         padding: 10px 15px;
         border-radius: 5px;
     }
     
     .navbar-nav .nav-link:hover {
         background-color: rgba(20, 133, 52, 1);
         box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.1);
         transform: translateY(-2px);
         color: white !important;
     }
     
     .navbar-nav .nav-item.active .nav-link {
         background-color: rgba(40, 167, 69, 0.8);
         color: white;
     }
     
     .navbar-nav {
         margin-left: 200px;
         width: 70%;
         justify-content: space-between;
     }
     
     .active-page a {
         font-weight: bold;
         background-color: #46b06c;
         border: 3px solid #28a745;
         color: white !important;
         border-radius: 15%;
     }
     
     @media (max-width: 992px) {
         .logo{
         margin-right: 270px;
         }

         #toggler {
         margin-top: -5px;
         position: fixed;
         left: 30px;
         top: 70px;
         }
         
     .navbar-nav .nav-item {
         margin: 0px ;
         text-align: center;
         background-color: #98Fb98;
     }
     .navbar-nav {
         margin-top:54px;
         width: 100%;
     }
     }
             
     #profile {
         position: fixed;
         width: 150px;
         height: 45px;
         right: 30px;
         border-radius: 5px;
         cursor: pointer;
         display: flex;
         justify-content: space-between;
         align-items: center; 
         gap:7px;
     }
 
     .main{
        position: relative;
        top:0px;
         width:100%;
         margin-top: 120px;
         padding: 30px 0;
     
     }
 
     /* Table Styles */
     .card {
       border: none;
       border-radius: 10px;
       box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
       overflow: hidden;
     }
     
     .card-header {
       background-color: white;
       border-bottom: 1px solid rgba(0, 0, 0, 0.05);
       padding: 20px 25px;
     }
     
     .header-content {
       display: flex;
       justify-content: space-between;
       align-items: center;
       flex-wrap: wrap;
       gap: 15px;
     }
     
     .card-title {
       font-weight: 600;
       color: #2c3e50;
       margin: 0;
     }
     
     .filter-container {
       display: flex;
       gap: 30px;
       align-items: center;
     }

     .filter-container  button{
      width:500px;
     }
     
     .table-responsive {
       border-radius: 10px;
       overflow: hidden;
     }
     
     .table {
       margin-bottom: 0;
     }
     
     .table thead th {
       background-color: #28a745 !important;
       color: white;
       font-weight: 500;
       border: none;
       padding: 15px 20px;
       vertical-align: middle;
       position: sticky;
       top: 0px;
       border: 1px solid white;
      
     }
     
     .table tbody tr {
       transition: all 0.2s ease;
     }
     
     .table tbody tr:hover {
       background-color: rgba(40, 167, 69, 0.05);
       transform: translateY(-1px);
       box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
     }
     
     .table tbody td {
       padding: 15px 20px;
       vertical-align: middle;
       border-top: 1px solid rgba(0, 0, 0, 0.03);
     }
     
     .action-btn {
       width: 36px;
       height: 36px;
       border-radius: 50%;
       display: inline-flex;
       align-items: center;
       justify-content: center;
       background-color: rgba(40, 167, 69, 0.1);
       color: #28a745;
       border: none;
       transition: all 0.3s ease;
       margin-right: 8px;
     }
     
     .action-btn:hover {
       background-color: #28a745;
       color: white;
       transform: scale(1.1);
     }
     
     .action-btn i {
       font-size: 14px;
     }
     
     /* List numbering style */
     .list-number {
         font-weight: bold;
         color: #28a745;
         margin-right: 15px;
         min-width: 20px;
         display: inline-block;
     }
     
     /* Pagination Styles */
     .pagination {
       justify-content: center;
       margin-top: 20px;
       z-index: 4;
     }
     
     .page-item.active .page-link {
       background-color: #28a745;
       border-color: #28a745;
     }
     
     .page-link {
       color: #28a745;
     }
     
     .page-link:hover {
       color: #1e7e34;
     }
     
     /* Common styles for all buttons */
     .fixed-button {
       background-color: #28a745;
       color: white;
       height: 45px;
       padding: 10px;
       border-radius: 5px;
       outline: 2px solid #46b06c;
       display: inline-block;
       position: fixed;
       top: 61.5px;
       box-shadow: 2px 2px 10px rgba(0, 0, 0, 0.2);
       transition: background-color 0.3s ease, transform 0.2s ease;
     }
     
     .fixed-button:hover {
       background-color: #218838;
       transform: scale(1.1);
     }
     
     .fixed-button i {
       font-size: 24px;
       color: #f8f8f8;
     }
     
     /* Specific positioning for each button */
     #contact {
       right: 20px;
     }
     
     #chatbot {
       right: 80px;
     }
     
     #blog {
       right: 150px;
     }

     @media (max-width: 768px) {
       .header-content {
         flex-direction: column;
         align-items: flex-start;
         gap: 15px;
       }
       
       .filter-container {
         width: 100%;
         flex-direction: column;
       }
       
       .filter-container .btn {
         width: 100%;
       }
       
       .filter-container .form-select {
         width: 100%;
       }
     }
    </style>
  </head>
  <body>
    <header class="top">
      <div class="top1">
        <!-- Logo Container -->
        <div class="logo">
          <div class="icon-container">
            <i class="icon fas fa-leaf"></i>
          </div>
          <span>
            <span class="highlight">N</span>utri
            <span class="highlight">C</span>onnect
          </span>
        </div>

        <div
          id="profile"
          onclick="window.location.href='/user_dash'"
          class="btn btn-outline-success"
        >
          <b>PROFILE</b>
          <div>
            <i class="fa-regular fa-user"></i>
          </div>
        </div>
      </div>

      <!-- Full-Width Navbar with Toggler -->
      <div class="container-fluid navbar-container">
        <nav id="nav-bar" class="navbar navbar-expand-lg navbar-light">
          <div class="container">
            <!-- Toggler Button -->
            <button
              id="toggler"
              class="navbar-toggler"
              type="button"
              data-bs-toggle="collapse"
              data-bs-target="#navbarNav"
              style="border: 3px solid #28a745"
            >
              <span class="navbar-toggler-icon"></span>
            </button>

            <!-- Navbar Items -->
            <div class="collapse navbar-collapse" id="navbarNav">
              <ul class="navbar-nav mx-auto">
                <li class="nav-item">
                  <a class="nav-link" href="/user">HOME</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/user-guide">GUIDE</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/dietitian-profiles">DIETITIAN PROFILES</a>
                </li>
                <li class="nav-item active-page">
                  <a class="nav-link" href="/user-consultations">APPOINTMENTS</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/blog">BLOG</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/pricing">PRICING</a>
                </li>
              </ul>
            </div>

            <a id="blog" class="fixed-button" href="/blog" title="blog">
              <i class="fas fa-blog"></i> 
            </a>
            
            <a id="chatbot" class="fixed-button" href="/chatbot" title="chatbot">
              <i class="fas fa-robot"></i>
            </a>

            <!-- Contact Us Icon -->
            <a id="contact" class="fixed-button" href="/contact" title="Contact us">
              <i class="fa-solid fa-phone-volume"></i>
            </a>
          </div>
        </nav>
      </div>
    </header>
  
    <!-- Main Content -->
    <main class="main">
      <div class="container">
        <div class="card">
          <div class="card-header">
            <div class="header-content">
              <h5 class="card-title">My Dietitians</h5>
              
              <div class="filter-container">
                <button class="btn btn-primary" onclick="window.location.href='/dietitian-profiles'">
                  <i class="fas fa-search me-2"></i>Find More Dietitians
                </button>
                
                <select class="form-select" id="specializationFilter">
                  <option value="All" selected>All Specializations</option>
                  <option value="Weight Management">Weight Management</option>
                  <option value="Diabetes/Thyroid">Diabetes/Thyroid</option>
                  <option value="Cardiac Health">Cardiac Health</option>
                  <option value="Women's Health">Women's Health</option>
                  <option value="Skin & Hair Care">Skin & Hair Care</option>
                  <option value="Gut Health">Gut Health</option>
                </select>
              </div>
            </div>
          </div>
          
          <div class="table-responsive">
            <table class="table table-hover align-middle" id="appointmentsTable">
              <thead>
                <tr>
                  <th>#</th>
                  <th>Dietitian</th>
                  <th>Specialization</th>
                  <th>Appointment Date</th>
                  <th>Time</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <!-- Rows will be populated by JavaScript -->
              </tbody>
            </table>
          </div>
          
          <div class="card-footer bg-white border-top d-flex justify-content-between align-items-center">
            <div class="text-muted">
              Showing <span id="showingCount">0</span> of <span id="totalCount">0</span> appointments
            </div>
            <nav aria-label="Page navigation">
              <ul class="pagination pagination-sm mb-0" id="pagination">
                <!-- Pagination will be populated by JavaScript -->
              </ul>
            </nav>
          </div>
        </div>
      </div>
    </main>

    <footer class="footer">
      <div class="container">
        <div class="row">
          <div class="col-lg-4 col-md-6 mb-4 mb-lg-0">
            <div class="logo">
              <div class="icon-container">
                  <i class="icon fas fa-leaf"></i>
              </div>
              <span>
                  <span class="highlight">N</span>utri 
                  <span class="highlight">C</span>onnect
              </span>
            </div>
            <p class="footer-about">
              NutriConnect helps you find certified dietitians and nutrition experts 
              to achieve your health goals through personalized nutrition plans.
            </p>
            <div class="social-links">
              <a href="https://www.facebook.com/profile.php?id=61572485733709" target="_blank" class="social-link" aria-label="Facebook">
                <i class="fab fa-facebook-f"></i>
              </a>
              <a href="https://www.instagram.com/nutriconnect2025" target="_blank" class="social-link" aria-label="Instagram">
                <i class="fab fa-instagram"></i>
              </a>
              <a href="https://x.com/NutriC21" target="_blank" class="social-link" aria-label="Twitter">
                <i class="fab fa-twitter"></i>
              </a>
              <a href="https://www.linkedin.com/in/nutri-connect-a0b774349" target="_blank" class="social-link" aria-label="LinkedIn">
                <i class="fab fa-linkedin-in"></i>
              </a>
            </div>
          </div>
          
          <div class="col-lg-2 col-md-6 mb-4 mb-lg-0">
            <h5 class="footer-title">Quick Links</h5>
            <ul class="footer-links">
              <li><a href="/user"><i class="fas fa-chevron-right"></i> Home</a></li>
              <li><a href="/dietitian-profiles"><i class="fas fa-chevron-right"></i> Find Dietitians</a></li>
              <li><a href="/user-guide"><i class="fas fa-chevron-right"></i> How It Works</a></li>
              <li><a href="/blog"><i class="fas fa-chevron-right"></i> Nutrition Blog</a></li>
              <li><a href="/pricing"><i class="fas fa-chevron-right"></i> Pricing Plans</a></li>
              <li><a href="/contact"><i class="fas fa-chevron-right"></i> Contact Support</a></li>
            </ul>
          </div>
          
          <div class="col-lg-3 col-md-6 mb-4 mb-md-0">
            <h5 class="footer-title">Services</h5>
            <ul class="footer-links">

          
              <li><a href="#"><i class="fas fa-chevron-right"></i> Weight Management</a></li>
              <li><a href="#"><i class="fas fa-chevron-right"></i> Diabetes/Thyroid</a></li>
              <li><a href="#"><i class="fas fa-chevron-right"></i> Cardiac Health</a></li>
              <li><a href="#"><i class="fas fa-chevron-right"></i> Women's Health</a></li>
              <li><a href="#"><i class="fas fa-chevron-right"></i> Skin & Hair Care</a></li>
              <li><a href="#"><i class="fas fa-chevron-right"></i> Gut Health</a></li>
            </ul>
          </div>
          
          <div class="col-lg-3 col-md-6">
            <h5 class="footer-title">Contact Info</h5>
            <ul class="footer-contact-info">
              <li>
                <i class="fas fa-map-marker-alt"></i>
                <span>Plot No. 45, Greenway Colony, 517681, India</span>
              </li>
              <li>
                <i class="fas fa-phone-alt"></i>
                <a href="tel:+917075783143">+91 70757 83143</a>
              </li>
              <li>
                <i class="fas fa-envelope"></i>
                <a href="mailto:support@nutriconnect.com">support@nutriconnect.com</a>
              </li>
              <li>
                <i class="fas fa-clock"></i>
                <span>Mon-Fri: 9AM - 9PM</span>
              </li>
            </ul>
          </div>
        </div>
      </div>
      
      <div class="footer-bottom">
        <div class="container">
          <div class="row align-items-center">
            <div class="col-md-6 text-center text-md-start mb-3 mb-md-0">
              <p class="copyright mb-0">&copy; 2025 NutriConnect. All rights reserved.</p>
            </div>
            <div class="col-md-6 text-center text-md-end">
              <ul class="footer-menu">

                <li><a href="/terms_conditions">Terms of Service</a></li>
                <li><a href="/privacy-policy">Privacy Policy</a></li>
               
              </ul>
            </div>
          </div>
        </div>
      </div>
    </footer>
    
    <style>
   
    .footer-about {
      color: #F0E68C;
      margin-top: 100px;
      margin-bottom: 20px;
      line-height: 1.6;
    }
    
    .footer-title {
      color: #FFFFFF;
      font-size: 1.2rem;
      margin-bottom: 20px;
      position: relative;
      padding-bottom: 10px;
      font-weight: 600;
    }
    
    .footer-title::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 50px;
      height: 2px;
      background-color: #50c878;
    }
    
    .footer-links {
      list-style: none;
      padding: 0;
    }
    
    .footer-links li {
      margin-bottom: 12px;
    }
    
    .footer-links a {
      color: #F0E68C;
      text-decoration: none;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .footer-links a:hover {
      color: #FFD700;
      padding-left: 5px;
    }
    
    .footer-links i {
      font-size: 0.8rem;
    }
    
    .footer-contact-info {
      list-style: none;
      padding: 0;
    }
    
    .footer-contact-info li {
      margin-bottom: 15px;
      display: flex;
      align-items: flex-start;
      gap: 10px;
      line-height: 1.5;
    }
    
    .footer-contact-info i {
      margin-top: 3px;
      color: #50c878;
    }
    
    .footer-contact-info a {
      color: #1E90FF;
      text-decoration: none;
      transition: color 0.3s ease;
    }
    
    .footer-contact-info a:hover {
      color: #00BFFF;
    }
    
    .footer-bottom {
      background-color: rgba(0, 0, 0, 0.2);
      padding: 20px 0;
      margin-top: 60px;
    }
    
    .copyright {
      color: rgba(255, 255, 255, 0.7);
      margin: 0;
    }
    
    .footer-menu {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      justify-content: center;
      gap: 20px;
    }
    
    .footer-menu li {
      display: inline-block;
    }
    
    .footer-menu a {
      color: #F0E68C;
      text-decoration: none;
      transition: color 0.3s ease;
    }
    
    .footer-menu a:hover {
      color: #FFD700;
    }
    
    /* Logo Styles */
    .footer .logo {
      display: flex;
      align-items: center;
      font-size: 24px;
      font-weight: bold;
      color:white;
      margin-bottom: 20px;
      margin-left:50px;
    }
    
   .footer .logo .highlight {
      color: #28B463;
    }
    
   .footer .logo .icon-container {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      background-color: #28B463;
      border-radius: 50%;
     
    }
    
   .footer .logo .icon {
      font-size: 24px;
      color: #FFFFFF;
    }
    
    .footer .logo:hover .icon-container {
      background-color: #1E6F5C;
      transform: scale(1.1);
      transition: all 0.3s ease;
      
    }
    
    .footer.logo:hover {
      color: #28B463;
      transition: color 0.3s ease;
    }
    
    /* Social Links */
    .social-links {
      display: flex;
      gap: 15px;
      margin-top: 20px;
    }
    
    .social-link {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      background-color: #f8f9fa;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #28a745;
      transition: all 0.3s ease;
    }
    
    .social-link:hover {
      background-color: #28a745;
      color: white;
      transform: translateY(-3px);
    }
    
    /* Responsive Design */
    @media (max-width: 992px) {
      .footer-menu {
        justify-content: flex-end;
      }
    }
    
    @media (max-width: 768px) {
      .footer-menu {
        justify-content: center;
      }
      
      .copyright,
      .footer-menu {
        text-align: center;
      }
      
      .footer-menu {
        margin-top: 10px;
      }
    }
    </style>

    <style>
      .footer {
        position: relative;
        top:100px;
        left:0px;
        height:auto;
        width:100%;
        width: 100%;
        background: linear-gradient(135deg, #232F3E 0%, #2c3e50 100%);
        color: white;
        padding: 60px 0 0;
        position: relative;
        overflow: hidden;
      }
    </style>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
      // Sample appointment data
      const appointments = [
        {
          id: 1,
          dietitian: "Dr. Anna Williams",
          specialization: "Weight Management",
          date: "Mar 10, 2025",
          time: "10:00 AM",
          image: "https://randomuser.me/api/portraits/women/43.jpg"
        },
        {
          id: 2,
          dietitian: "Dr. Maria Anderson",
          specialization: "Diabetes/Thyroid",
          date: "Feb 20, 2025",
          time: "2:30 PM",
          image: "https://randomuser.me/api/portraits/women/65.jpg"
        },
        {
          id: 3,
          dietitian: "Dr. Lakshmi Reddy",
          specialization: "Cardiac Health",
          date: "Jan 15, 2025",
          time: "11:15 AM",
          image: "https://randomuser.me/api/portraits/women/33.jpg"
        },
        {
          id: 4,
          dietitian: "Dr. David Joseph",
          specialization: "Women's Health",
          date: "Feb 5, 2025",
          time: "3:45 PM",
          image: "https://randomuser.me/api/portraits/men/32.jpg"
        },
        {
          id: 5,
          dietitian: "Dr. Jessica Martinez",
          specialization: "Skin & Hair Care",
          date: "Mar 1, 2025",
          time: "9:30 AM",
          image: "https://randomuser.me/api/portraits/women/28.jpg"
        },
        {
          id: 6,
          dietitian: "Dr. Pavan Kumar",
          specialization: "Gut Health",
          date: "Jan 20, 2025",
          time: "4:00 PM",
          image: "https://randomuser.me/api/portraits/men/45.jpg"
        },
        {
          id: 7,
          dietitian: "Dr. Robert Johnson",
          specialization: "Weight Management",
          date: "Mar 15, 2025",
          time: "1:00 PM",
          image: "https://randomuser.me/api/portraits/men/22.jpg"
        },
        {
          id: 8,
          dietitian: "Dr. Sarah Wilson",
          specialization: "Diabetes/Thyroid",
          date: "Feb 28, 2025",
          time: "10:30 AM",
          image: "https://randomuser.me/api/portraits/women/44.jpg"
        }
      ];

      // Pagination settings
      const itemsPerPage = 5;
      let currentPage = 1;
      let currentSpecializationFilter = "All";

      // Function to render appointment rows with pagination
      function renderAppointments(page = 1, specialization = "All") {
        const tbody = document.querySelector("#appointmentsTable tbody");
        tbody.innerHTML = "";
        
        // Update current filters and page
        currentPage = page;
        currentSpecializationFilter = specialization;
        
        // Apply filters
        let filteredAppointments = appointments;
        
        if (specialization && specialization !== "All") {
          filteredAppointments = filteredAppointments.filter(
            appt => appt.specialization === specialization
          );
        }
        
        // Calculate pagination
        const totalPages = Math.ceil(filteredAppointments.length / itemsPerPage);
        const startIndex = (page - 1) * itemsPerPage;
        const endIndex = Math.min(startIndex + itemsPerPage, filteredAppointments.length);
        const paginatedAppointments = filteredAppointments.slice(startIndex, endIndex);
        
        // Update counts
        document.getElementById("showingCount").textContent = paginatedAppointments.length;
        document.getElementById("totalCount").textContent = filteredAppointments.length;
        
        // Render rows with numbering
        paginatedAppointments.forEach((appt, index) => {
          const rowNumber = startIndex + index + 1;
          const row = document.createElement("tr");
          row.innerHTML = `
            <td>
              <span class="list-number">${rowNumber}.</span>
            </td>
            <td>
              <div class="d-flex align-items-center">
                <img src="${appt.image}" alt="${appt.dietitian}" 
                  class="rounded-circle me-3" width="40" height="40">
                <div>
                  <h6 class="mb-0">${appt.dietitian}</h6>
                  <small class="text-muted">ID: D${appt.id.toString().padStart(3, '0')}</small>
                </div>
              </div>
            </td>
            <td>${appt.specialization}</td>
            <td>${appt.date}</td>
            <td>${appt.time}</td>
            <td>
              <button class="action-btn" title="View Details" onclick="viewAppointment(${appt.id})">
                <i class="fas fa-eye"></i>
              </button>
              <button class="action-btn" title="Chat" onclick="openChat(${appt.id})">
                <i class="fas fa-comment"></i>
              </button>
              <button class="action-btn" title="Reports" onclick="viewReports(${appt.id})">
                <i class="fas fa-file-medical"></i>
              </button>
            </td>
          `;
          tbody.appendChild(row);
        });
        
        // Update pagination controls
        updatePaginationControls(totalPages);
      }

      // Update pagination controls
      function updatePaginationControls(totalPages) {
        const pagination = document.getElementById("pagination");
        pagination.innerHTML = "";
        
        // Only show pagination if more than one page
        if (totalPages <= 1) return;
        
        // Previous button
        const prevItem = document.createElement("li");
        prevItem.className = `page-item ${currentPage === 1 ? 'disabled' : ''}`;
        prevItem.innerHTML = `<a class="page-link" href="#" onclick="changePage(${currentPage - 1})">&laquo;</a>`;
        pagination.appendChild(prevItem);
        
        // Page numbers
        for (let i = 1; i <= totalPages; i++) {
          const pageItem = document.createElement("li");
          pageItem.className = `page-item ${currentPage === i ? 'active' : ''}`;
          pageItem.innerHTML = `<a class="page-link" href="#" onclick="changePage(${i})">${i}</a>`;
          pagination.appendChild(pageItem);
        }
        
        // Next button
        const nextItem = document.createElement("li");
        nextItem.className = `page-item ${currentPage === totalPages ? 'disabled' : ''}`;
        nextItem.innerHTML = `<a class="page-link" href="#" onclick="changePage(${currentPage + 1})">&raquo;</a>`;
        pagination.appendChild(nextItem);
      }

      // Change page
      function changePage(page) {
        renderAppointments(page, currentSpecializationFilter);
      }

      // View appointment details - redirects to appointment page
      function viewAppointment(id) {
        alert(`Redirecting to appointment ${id} details...`);
      }

      // Open chat with dietitian - redirects to chat page
      function openChat(id) {
        alert(`Opening chat for appointment ${id}...`);
        window.location.href = `/chat_user`;
      }

      // View lab reports - redirects to reports page
      function viewReports(id) {
        alert(`Viewing reports for appointment ${id}...`);
        window.location.href = `/Lab_user`;
      }

      // Initialize the page
      document.addEventListener("DOMContentLoaded", function() {
        renderAppointments(1);
        
        // Filter event listener
        document.getElementById("specializationFilter").addEventListener("change", function() {
          renderAppointments(1, this.value);
        });
      });
    </script>
  </body>
</html>